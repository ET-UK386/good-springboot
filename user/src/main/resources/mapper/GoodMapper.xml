<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zb.mapper.GoodMapper">

    <resultMap id="umap" type="com.zb.pojo.Goodsku">
        <result property="id" column="id"></result>
        <result property="skuName" column="sku_name"></result>
        <result property="skuDesc" column="sku_desc"></result>
        <result property="salesVolume" column="sales_volume"></result>
        <result property="manufacturer" column="manufacturer"></result>
        <result property="createTime" column="create_time"></result>
        <result property="renewTime" column="renew_time"></result>
        <association property="goodspu" javaType="com.zb.pojo.Goodspu">
            <result property="brand" column="brand"></result>
            <result property="status" column="status"></result>
            <association property="sort" javaType="com.zb.pojo.Sort">
                <result property="sortName" column="sort_name"></result>
            </association>
        </association>
        <association property="color" javaType="com.zb.pojo.Color">
            <result property="colorName" column="color_name"></result>
        </association>
        <association property="price" javaType="com.zb.pojo.Purchase.Price">
            <result property="price" column="price"></result>
        </association>
        <association property="warehouse" javaType="com.zb.pojo.Warehouse">
            <result property="stockNumber" column="stock_number"></result>
        </association>
        <association property="units" javaType="com.zb.pojo.Units">
            <result property="unitsName" column="units_name"></result>
        </association>
        <association property="vendor" javaType="com.zb.pojo.Vendor">
            <result property="vendorName" column="vendor_name"></result>
        </association>
        <collection property="user" ofType="com.zb.pojo.User">
            <result property="username" column="username"></result>
        </collection>
    </resultMap>


    <select id="listGood" resultMap="umap">
           SELECT k.sku_name,
        k.sku_desc,
        p.brand,
        p.`status`,
        s.`sort_name` ,
        c.`color_name` ,
        pr.`price`,
        w.`stock_number` ,
        un.`units_name` ,
        k.`manufacturer` ,
        v.`vendor_name` ,
        u.`username` ,
	    k.`create_time` ,
	    u.`username` ,
	    k.`renew_time`
        FROM goodsku k
        INNER JOIN goodspu p ON k.spu_id= p.`id`
        INNER JOIN sort s ON s.`id` = p.`sort_id`
        INNER JOIN `user` u ON u.`id` = k.`create_user_id`
        INNER JOIN color c ON k.color_id = c.`id`
        INNER JOIN price pr ON pr.sku_id = k.id
        INNER JOIN warehouse w ON w.`id`=k.stock_id
        INNER JOIN units un ON un.id = k.company_id
        INNER JOIN vendor v ON v.`id` = k.`Supplier_id`
    </select>
</mapper>